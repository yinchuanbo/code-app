<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>01 video 相关技术</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/editor/editor.main.css"
    />
    <link rel="stylesheet" href="./assets/css/prism.css" />
    <link rel="stylesheet" href="./assets/css/detail.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="wrapper-top">
         
        <div class="wrapper-top_arrowLeft disabled">
          <svg
            t="1724252643523"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4248"
            width="200"
            height="200"
          >
            <path
              d="M71.327 528.814967l289.705148 295.703769c9.380648 9.624195 24.707728 9.624195 34.138518 0 9.381671-9.576099 9.381671-25.222451 0-34.848693L146.677129 536.058952l786.690176 0c13.3214 0 24.142863-11.048637 24.142863-24.642237 0-13.597693-10.821463-24.645306-24.142863-24.645306L146.677129 486.771409l248.494561-253.632581c9.381671-9.603729 9.381671-25.248034 0-34.847669-4.76349-4.836145-10.939143-7.194866-17.116843-7.194866-6.1777 0-12.355399 2.405793-17.116843 7.194866L71.233879 494.01437c-9.383718 9.602705-9.383718 25.244964 0 34.849716L71.327 528.814967z"
              p-id="4249"
              fill="rgb(146, 146, 146)"
            ></path>
          </svg>
        </div>
          
        <div class="wrapper-top_arrowRight disabled">
          <svg
            t="1724252684717"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4442"
            width="200"
            height="200"
          >
            <path
              d="M950.378747 494.018463 660.673599 198.314695c-9.380648-9.624195-24.707728-9.624195-34.138518 0-9.381671 9.576099-9.381671 25.222451 0 34.848693l248.494561 253.612115L88.338443 486.775502c-13.3214 0-24.142863 11.047614-24.142863 24.641213 0 13.597693 10.821463 24.645306 24.142863 24.645306l786.690176 0L626.535081 789.694603c-9.381671 9.603729-9.381671 25.248034 0 34.847669 4.76349 4.836145 10.939143 7.194866 17.116843 7.194866 6.1777 0 12.355399-2.405793 17.116843-7.194866l289.704125-295.723212c9.383718-9.602705 9.383718-25.244964 0-34.849716L950.378747 494.018463z"
              p-id="4443"
              fill="rgb(146, 146, 146)"
            ></path>
          </svg>
        </div>
        

        <div class="wrapper-top_main">01 video 相关技术</div>
      </div>
      <div class="wrapper-bottom">
        <div class="wrapper-left">
          <div class="wrapper-left__bar">
            <button id="tohome">
              <svg
                t="1724296457203"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="8173"
                width="200"
                height="200"
              >
                <path
                  d="M704 938.666667H74.666667V337.706667h0.213333L512 85.333333l437.12 252.373334h0.213333V938.666667h-85.333333V391.616h-704V853.333333H704v85.333334zM512 188.373333L160 391.616h704L512 188.373333z"
                  fill="currentColor"
                  p-id="8174"
                ></path>
                <path
                  d="M629.333333 576h85.333334v362.666667h-85.333334z"
                  fill="currentColor"
                  p-id="8175"
                ></path>
              </svg>
            </button>
            <button id="shrink">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
                class="icon-xl-heavy"
              >
                <path
                  fill="currentColor"
                  fill-rule="evenodd"
                  d="M8.857 3h6.286c1.084 0 1.958 0 2.666.058.729.06 1.369.185 1.961.487a5 5 0 0 1 2.185 2.185c.302.592.428 1.233.487 1.961.058.708.058 1.582.058 2.666v3.286c0 1.084 0 1.958-.058 2.666-.06.729-.185 1.369-.487 1.961a5 5 0 0 1-2.185 2.185c-.592.302-1.232.428-1.961.487C17.1 21 16.227 21 15.143 21H8.857c-1.084 0-1.958 0-2.666-.058-.728-.06-1.369-.185-1.96-.487a5 5 0 0 1-2.186-2.185c-.302-.592-.428-1.232-.487-1.961C1.5 15.6 1.5 14.727 1.5 13.643v-3.286c0-1.084 0-1.958.058-2.666.06-.728.185-1.369.487-1.96A5 5 0 0 1 4.23 3.544c.592-.302 1.233-.428 1.961-.487C6.9 3 7.773 3 8.857 3M6.354 5.051c-.605.05-.953.142-1.216.276a3 3 0 0 0-1.311 1.311c-.134.263-.226.611-.276 1.216-.05.617-.051 1.41-.051 2.546v3.2c0 1.137 0 1.929.051 2.546.05.605.142.953.276 1.216a3 3 0 0 0 1.311 1.311c.263.134.611.226 1.216.276.617.05 1.41.051 2.546.051h.6V5h-.6c-1.137 0-1.929 0-2.546.051M11.5 5v14h3.6c1.137 0 1.929 0 2.546-.051.605-.05.953-.142 1.216-.276a3 3 0 0 0 1.311-1.311c.134-.263.226-.611.276-1.216.05-.617.051-1.41.051-2.546v-3.2c0-1.137 0-1.929-.051-2.546-.05-.605-.142-.953-.276-1.216a3 3 0 0 0-1.311-1.311c-.263-.134-.611-.226-1.216-.276C17.029 5.001 16.236 5 15.1 5zM5 8.5a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1M5 12a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </button>
            <button id="preview">
              <svg
                t="1724295357452"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="6305"
                width="200"
                height="200"
              >
                <path
                  d="M1006.144 405.12c-1.728-2.88-44.736-71.232-126.656-139.776-48.256-40.256-100.032-72.448-154.112-95.552a537.696 537.696 0 0 0-424.64 0c-54.144 23.104-106.048 55.296-154.176 95.552C64.576 333.888 21.568 402.24 19.904 405.056c-25.984 41.408-23.68 104.64 5.056 143.872 2.112 2.816 52.224 70.976 136.896 139.584 49.92 40.512 101.568 72.768 153.536 96 65.792 29.504 132.224 44.352 197.568 44.352s131.84-14.848 197.632-44.352c51.968-23.232 103.68-55.488 153.472-96 84.672-68.608 134.784-136.768 136.96-139.712 28.544-39.168 30.784-102.272 5.12-143.68z m-73.792 104.256c-0.576 0.64-46.016 62.272-121.024 122.816-67.968 54.848-174.72 120.256-298.368 120.256s-230.528-65.344-298.368-120.256c-74.944-60.48-120.448-122.112-120.96-122.816-12.736-17.408-13.952-49.984-2.432-68.352 0.448-0.576 38.592-60.992 109.952-120.256 94.464-78.464 199.296-118.208 311.872-118.208 112.512 0 217.408 39.808 311.808 118.208 71.424 59.264 109.568 119.68 109.952 120.128 11.328 18.432 10.24 51.136-2.432 68.48z m-419.648-223.04c-48.192 0-93.504 19.904-127.488 56-33.92 36.16-52.608 84.096-52.608 135.104 0 51.072 18.624 99.008 52.544 135.04 33.984 36.224 79.296 56.128 127.488 56.128 99.136 0 179.84-85.76 179.84-191.168 0-105.344-80.64-191.104-179.776-191.104z m0 320.32c-66.88 0-121.28-57.92-121.28-129.28 0-71.232 54.4-129.152 121.28-129.152 66.752 0 121.088 57.92 121.088 129.152-0.064 71.36-54.336 129.28-121.088 129.28z"
                  fill="currentColor"
                  p-id="6306"
                ></path>
              </svg>
            </button>
          </div>
          <div class="wrapper-left__content"><ul><li data-id="1" data-path="01 并不是所有的 .mp4 都能被播放.md"><svg t="1724332546605" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6563" width="200" height="200"><path d="M20.48 327.76192a163.84 163.84 0 0 1 163.84-163.84h655.36a163.84 163.84 0 0 1 163.84 163.84v327.68a163.84 163.84 0 0 1-163.84 163.84H184.32a163.84 163.84 0 0 1-163.84-163.84v-327.68z m163.84-81.92a81.92 81.92 0 0 0-81.92 81.92v327.68a81.92 81.92 0 0 0 81.92 81.92h655.36a81.92 81.92 0 0 0 81.92-81.92v-327.68a81.92 81.92 0 0 0-81.92-81.92H184.32z m68.97664 84.00896a40.96 40.96 0 0 1 45.71136 14.336L389.12 464.24064l90.112-120.13568a40.96 40.96 0 0 1 73.728 24.576v245.76a40.96 40.96 0 0 1-81.92 0v-122.88l-49.152 65.536a41.04192 41.04192 0 0 1-65.536 0l-49.152-65.536v122.88a40.96 40.96 0 1 1-81.92 0v-245.76a40.96 40.96 0 0 1 28.01664-38.87104zM757.76 368.76288a40.96 40.96 0 0 0-81.92 0v146.8416l-12.00128-12.00128a40.96 40.96 0 0 0-57.91744 57.91744l81.92 81.92a40.96 40.96 0 0 0 57.91744 0l81.92-81.92a40.96 40.96 0 0 0-57.91744-57.91744l-12.00128 12.00128V368.72192z" fill="rgb(146,146,146)" p-id="6564"></path></svg>01 并不是所有的 .mp4 都能被播放.md</li><li data-id="2" data-path="02 使用 HTML5 音频和视频.md"><svg t="1724332546605" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6563" width="200" height="200"><path d="M20.48 327.76192a163.84 163.84 0 0 1 163.84-163.84h655.36a163.84 163.84 0 0 1 163.84 163.84v327.68a163.84 163.84 0 0 1-163.84 163.84H184.32a163.84 163.84 0 0 1-163.84-163.84v-327.68z m163.84-81.92a81.92 81.92 0 0 0-81.92 81.92v327.68a81.92 81.92 0 0 0 81.92 81.92h655.36a81.92 81.92 0 0 0 81.92-81.92v-327.68a81.92 81.92 0 0 0-81.92-81.92H184.32z m68.97664 84.00896a40.96 40.96 0 0 1 45.71136 14.336L389.12 464.24064l90.112-120.13568a40.96 40.96 0 0 1 73.728 24.576v245.76a40.96 40.96 0 0 1-81.92 0v-122.88l-49.152 65.536a41.04192 41.04192 0 0 1-65.536 0l-49.152-65.536v122.88a40.96 40.96 0 1 1-81.92 0v-245.76a40.96 40.96 0 0 1 28.01664-38.87104zM757.76 368.76288a40.96 40.96 0 0 0-81.92 0v146.8416l-12.00128-12.00128a40.96 40.96 0 0 0-57.91744 57.91744l81.92 81.92a40.96 40.96 0 0 0 57.91744 0l81.92-81.92a40.96 40.96 0 0 0-57.91744-57.91744l-12.00128 12.00128V368.72192z" fill="rgb(146,146,146)" p-id="6564"></path></svg>02 使用 HTML5 音频和视频.md</li><li data-id="3" data-path="03 根据已有视频生成指定样式视频.md"><svg t="1724332546605" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6563" width="200" height="200"><path d="M20.48 327.76192a163.84 163.84 0 0 1 163.84-163.84h655.36a163.84 163.84 0 0 1 163.84 163.84v327.68a163.84 163.84 0 0 1-163.84 163.84H184.32a163.84 163.84 0 0 1-163.84-163.84v-327.68z m163.84-81.92a81.92 81.92 0 0 0-81.92 81.92v327.68a81.92 81.92 0 0 0 81.92 81.92h655.36a81.92 81.92 0 0 0 81.92-81.92v-327.68a81.92 81.92 0 0 0-81.92-81.92H184.32z m68.97664 84.00896a40.96 40.96 0 0 1 45.71136 14.336L389.12 464.24064l90.112-120.13568a40.96 40.96 0 0 1 73.728 24.576v245.76a40.96 40.96 0 0 1-81.92 0v-122.88l-49.152 65.536a41.04192 41.04192 0 0 1-65.536 0l-49.152-65.536v122.88a40.96 40.96 0 1 1-81.92 0v-245.76a40.96 40.96 0 0 1 28.01664-38.87104zM757.76 368.76288a40.96 40.96 0 0 0-81.92 0v146.8416l-12.00128-12.00128a40.96 40.96 0 0 0-57.91744 57.91744l81.92 81.92a40.96 40.96 0 0 0 57.91744 0l81.92-81.92a40.96 40.96 0 0 0-57.91744-57.91744l-12.00128 12.00128V368.72192z" fill="rgb(146,146,146)" p-id="6564"></path></svg>03 根据已有视频生成指定样式视频.md</li></ul></div>
        </div>
        <div class="wrapper-right">
          <div class="tabs"></div>
          <div class="nav__path"></div>
          <div class="contents"></div>
        </div>
      </div>
    </div>
    <pre id="pre" style="display: none">
{
  &#34;01 并不是所有的 .mp4 都能被播放.md&#34;: &#34;&lt;h2&gt;并不是所有的 mp4 视频都能被 video 标签播放&lt;/h2&gt;\n&lt;p&gt;今天遇到个奇怪的 bug，好好一个 mp4 视频在本地所有设备均可正常播放，但是上传至 cos 之后插入富文本，发现 video 标签只能识别出音频，并无视频。&lt;/p&gt;\n&lt;h3&gt;原因&lt;/h3&gt;\n&lt;p&gt;首先 video 标签并不能解析所有视频编码格式，它只支持 &lt;code&gt;MPEG4，Ogg，WebM&lt;/code&gt; 三种视频格式。支持的视频格式及编码格式如下：&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;./assets/imgs/01/01.awebp\&#34; alt=\&#34;\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;但是，video 标签对这三种视频格式是有具体要求的&lt;/strong&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Ogg = 带有 Theora 视频编码 + Vorbis 音频编码&lt;/li&gt;\n&lt;li&gt;MPEG4 = 带有 H.264 视频编码 + AAC 音频编码&lt;/li&gt;\n&lt;li&gt;WebM = 带有 VP8 视频编码 + Vorbis 音频编码&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;MP4 格式中 H264 和 MPEG 编码格式的区别&lt;/h3&gt;\n&lt;p&gt;&lt;strong&gt;MPEG-4 编码技术&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;MPEG－4：MPEG－4 是一个适用于低传输速率应用的方案，MPEG-4 是在 MPEG-1、MPEG-2 基础上发展而来，是为了播放流式媒体的高质量视频而专门设计的，它可利用很窄的带度，通过帧重建技术，压缩和传输数据，以求使用最少的数据获得最佳的图像质量。&lt;/p&gt;\n&lt;p&gt;MPEG-4 标准则是基于对象和内容的编码方式，和传统的图像帧编码方式不同，它只处理图像帧与帧之间的差异元素，抛弃相同图像元素，因此大大减少了合成多媒体文件的体积，从而以较小的文件体积同样可得到高清晰的还原图像。换句话说，相同的原始图像，MPEG-4 编码标准具有更高的压缩比。&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;H.264 编码技术&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;H.264 是 ITU-T 国际电联与 ISO 国际标准化组织联合制定的视频编解码技术标准，h.264 是一种高性能的视频编解码技术。&lt;/p&gt;\n&lt;p&gt;H.264 最大的优势是具有很高的数据压缩比率，在同等图像质量的条件下，H.264 的压缩比是 MPEG-2 的 2 倍以上，是 MPEG-4 的 1.5 ～ 2 倍。&lt;/p&gt;\n&lt;p&gt;一个原始文件是 102G 大小的视频，经过 H.264 编码后变成了 1 个 G，压缩比竟达到了 102:1。因此 H.264 的低码率技术起到了至关重要的作用， 在用户获得高质量流畅图像的同时，大大节省了下载时间和数据流量，也大大减少了图像存储空间。&lt;/p&gt;\n&lt;p&gt;H.264 是在 MPEG-4 技术的基础之上建立起来的，其编解码流程主要包括 5 个部分：帧间和帧内预测(Estimation)、变换(Transform)和反变换、量化(Quantization)和反量化、环路滤波(Loop Filter)、熵编码(Entropy Coding)。&lt;/p&gt;\n&lt;p&gt;视频监控技术经过多年的发展，并且由于 H.264 的高压缩性能，目前市场上主流的视频基本采用的是 H.264 标准。&lt;/p&gt;\n&lt;h3&gt;排查过程&lt;/h3&gt;\n&lt;p&gt;发现视频无法解析，只能解析音频，如下：&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;./assets/imgs/01/02.awebp\&#34; alt=\&#34;\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;怀疑是视频编码导致视频无法解析，百度搜索关键词：video 标签+视频编码&lt;/p&gt;\n&lt;p&gt;查找到 video 标签支持的视频编码格式如上&lt;/p&gt;\n&lt;p&gt;使用 &lt;code&gt;QQ 影音播放器&lt;/code&gt; 查看出问题视频的编码信息：&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;./assets/imgs/01/03.awebp\&#34; alt=\&#34;\&#34;&gt;&lt;/p&gt;\n&lt;p&gt;编码格式为 mpeg，而非 h264，真相大白！&lt;/p&gt;\n&lt;p&gt;正常的视频应该是如下这样的：&lt;/p&gt;\n&lt;p&gt;&lt;img src=\&#34;./assets/imgs/01/04.awebp\&#34; alt=\&#34;\&#34;&gt;&lt;/p&gt;\n&#34;,
  &#34;02 使用 HTML5 音频和视频.md&#34;: &#34;&lt;h2&gt;使用 HTML5 音频和视频&lt;/h2&gt;\n&lt;h2&gt;Audio&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;audio src=&amp;quot;&amp;quot; controls=&amp;quot;controls&amp;quot;&amp;gt;&amp;lt;/audio&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;audio 支持的属性值：&lt;/strong&gt;&lt;/p&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;属性&lt;/th&gt;\n&lt;th&gt;值&lt;/th&gt;\n&lt;th&gt;说明&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;&lt;tr&gt;\n&lt;td&gt;autoplay&lt;/td&gt;\n&lt;td&gt;autoplay&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则音频在就绪后马上播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;controls&lt;/td&gt;\n&lt;td&gt;controls&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则向用户显示控件，比如播放按钮&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;loop&lt;/td&gt;\n&lt;td&gt;loop&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则每当音频结束时重新开始播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;preload&lt;/td&gt;\n&lt;td&gt;preload&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则音频在页面加载时进行加载，并预备播放。如果使用 autoplay，则忽略该属性。&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n&lt;p&gt;audio 标签可以包含多个 source 标签，用来导入不同的音频文件，浏览器会自动选择第一个可识别的格式进行播放。&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;audio controls=&amp;quot;controls&amp;quot;&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/test.ogg&amp;quot; type=&amp;quot;audio/ogg&amp;quot; /&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/test.mp3&amp;quot; type=&amp;quot;audio/mpeg&amp;quot; /&amp;gt;\n  你的浏览器不支持 audio 标签\n&amp;lt;/audio&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;audio autoplay loop&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/test.ogg&amp;quot; type=&amp;quot;audio/ogg&amp;quot; /&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/test.mp3&amp;quot; type=&amp;quot;audio/mpeg&amp;quot; /&amp;gt;\n  你的浏览器不支持 audio 标签\n&amp;lt;/audio&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Video&lt;/h2&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;video src=&amp;quot;&amp;quot; controls=&amp;quot;controls&amp;quot;&amp;gt;&amp;lt;/video&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;video 支持的属性值：&lt;/strong&gt;&lt;/p&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;属性&lt;/th&gt;\n&lt;th&gt;值&lt;/th&gt;\n&lt;th&gt;说明&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;&lt;tr&gt;\n&lt;td&gt;autoplay&lt;/td&gt;\n&lt;td&gt;autoplay&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则视频在就绪后马上播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;controls&lt;/td&gt;\n&lt;td&gt;controls&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则向用户显示控件，比如播放按钮&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;loop&lt;/td&gt;\n&lt;td&gt;loop&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则当媒介文件完成播放后再次开始播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;muted&lt;/td&gt;\n&lt;td&gt;muted&lt;/td&gt;\n&lt;td&gt;设置视频的音频输出应该被静音&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;poster&lt;/td&gt;\n&lt;td&gt;URL&lt;/td&gt;\n&lt;td&gt;设置视频下载时显示的图像，或者在用户单击 “播放” 按钮前显示的图像&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;preload&lt;/td&gt;\n&lt;td&gt;preload&lt;/td&gt;\n&lt;td&gt;如果出现该属性，则视频在页面加载时进行加载，并预备播放。如果使用 “autoplay”，则忽略该属性&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;video controls autoplay&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/trailer.ogg&amp;quot; type=&amp;quot;video/ogg&amp;quot; /&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/trailer.mp4&amp;quot; type=&amp;quot;video/mp4&amp;quot; /&amp;gt;\n  您的浏览器不支持 video 标签\n&amp;lt;/video&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;也可以使用 Js 脚本控制媒体播放，简单说明如下：&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;load(): 可以加载音频或视频文件&lt;/li&gt;\n&lt;li&gt;play()&lt;/li&gt;\n&lt;li&gt;pause()&lt;/li&gt;\n&lt;li&gt;canPlayType(type): 检测 video 元素是否支持给定 MIME 类型的文件&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;设置属性&lt;/h3&gt;\n&lt;p&gt;audio 和 video 元素拥有相同的脚本属性。&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;autobuffer 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;可读写属性，使用该属性可以使得 audio 和 video 元素实现自动缓冲，默认为 false。&lt;/p&gt;\n&lt;p&gt;如果值为 true，则自动缓冲，但并不播放。&lt;/p&gt;\n&lt;p&gt;如果使用了 autoplay 属性，则 autobuffer 属性会被忽略。&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;audio controls=&amp;quot;controls&amp;quot; autobuffer=&amp;quot;true&amp;quot;&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/test.ogg&amp;quot; type=&amp;quot;audio/ogg&amp;quot; /&amp;gt;\n  &amp;lt;source src=&amp;quot;medias/test.mp3&amp;quot; type=&amp;quot;audio/mpeg&amp;quot; /&amp;gt;\n  你的浏览器不支持 audio 标签\n&amp;lt;/audio&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ol start=\&#34;2\&#34;&gt;\n&lt;li&gt;buffered 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回一个 TimeRanges 对象，确认浏览器已经缓存媒体文件。&lt;/p&gt;\n&lt;ol start=\&#34;3\&#34;&gt;\n&lt;li&gt;currentSrc 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，无默认值。用于返回媒体数据的 URL 地址，如果不存在，则返回空。&lt;/p&gt;\n&lt;ol start=\&#34;4\&#34;&gt;\n&lt;li&gt;currentTime 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;可读写属性，用于获取或设置当前播放位置，返回值为时间，单位为秒。&lt;/p&gt;\n&lt;ol start=\&#34;5\&#34;&gt;\n&lt;li&gt;defaultPlaybackRate&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;可读写属性，用于获取或设置当前播放速率，前提是用户没有使用快进或快退控件。&lt;/p&gt;\n&lt;ol start=\&#34;6\&#34;&gt;\n&lt;li&gt;duration 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于获取当前媒体的持续时间，返回值为时间，单位为秒。&lt;/p&gt;\n&lt;ol start=\&#34;7\&#34;&gt;\n&lt;li&gt;ended 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回一个布尔值，以获悉媒体是否播放结束。&lt;/p&gt;\n&lt;ol start=\&#34;8\&#34;&gt;\n&lt;li&gt;error 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回一个 &lt;code&gt;MediaError&lt;/code&gt; 对象以表明当前的错误状态。如果没有出现错误，则返回 null。&lt;/p&gt;\n&lt;p&gt;错误状态共有 4 个可能值：&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;MEDIA_ERR_ABORTED (数字值为 1): 媒体资源获取异常，媒体数据的下载过程因用户操作而终止。&lt;/li&gt;\n&lt;li&gt;MEDIA_ERR_NETWORK (数字值为 2): 网路错误，在媒体数据已经就绪时用户停止了媒体下载资源的过程。&lt;/li&gt;\n&lt;li&gt;MEDIA_ERR_DECODE (数字值为 3): 媒体解码错误，在媒体数据已经就绪时解码过程中出现了错误。&lt;/li&gt;\n&lt;li&gt;MEDIA_ERR_SRC_NOT_SUPPORTED (数字值为 4): 媒体格式不被支持。&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ol start=\&#34;9\&#34;&gt;\n&lt;li&gt;initialTime 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于获取最早的可用于回放的位置，返回值为时间，单位为秒。&lt;/p&gt;\n&lt;ol start=\&#34;10\&#34;&gt;\n&lt;li&gt;networkState 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回媒体的网络状态，共有 4 个可能值：&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;NETWORK_EMPTY (数字值为 0): 元素尚未初始化&lt;/li&gt;\n&lt;li&gt;NETWORK_IDLE (数字值为 1): 加载完成，网络空闲&lt;/li&gt;\n&lt;li&gt;NETWORK_LOADING (数字值为 2): 媒体数据加载中&lt;/li&gt;\n&lt;li&gt;NETWORK_NO_SOURCE (数字值为 3): 因为不存在支持的编码格式，加载失败&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ol start=\&#34;11\&#34;&gt;\n&lt;li&gt;playbackRate 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;可读写属性，用于读取或设置媒体资源播放的当前速率。&lt;/p&gt;\n&lt;ol start=\&#34;12\&#34;&gt;\n&lt;li&gt;played 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回一个 TimeRanges 对象，标明媒体资源在浏览器中已播放的时间范围。&lt;/p&gt;\n&lt;p&gt;TimeRanges 对象的 length 属性为已播放部分的时间段，该对象有两个方法，end 方法用于返回已播放时间段的结束时间，start 方法用于返回已播放时间段的开始时间，&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var ranges = document.getElementById(&amp;quot;myVideo&amp;quot;).played;\nfor (var i = 0; i &amp;lt; ranges.length; i++) {\n  var start = ranges.start(i);\n  var end = ranges.end(i);\n  console.log(&amp;quot;从&amp;quot; + start + &amp;quot;开始播放到&amp;quot; + end + &amp;quot;结束。&amp;quot;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;ol start=\&#34;13\&#34;&gt;\n&lt;li&gt;preload 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;可读写属性，用于定义视频是否预加载，&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;none: 不进行预加载&lt;/li&gt;\n&lt;li&gt;metadata: 部分预加载&lt;/li&gt;\n&lt;li&gt;auto: 全部预加载&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ol start=\&#34;14\&#34;&gt;\n&lt;li&gt;readyState 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回媒体当前播放位置的就绪状态，共有 5 个可能值：&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;HAVE_NOTHING (数字值为 0)：当前播放位置没有有效的媒体资源。&lt;/li&gt;\n&lt;li&gt;HAVE_METADATA (数字值为 1)：媒体资源确认存在且加载中，但当前位置没有能够加载到有效的媒体数据以进行播放。&lt;/li&gt;\n&lt;li&gt;HAVE_CURRENT_DATA (数字值为 2)：已获取当前播放数据，但没有足够的数据进行播放。&lt;/li&gt;\n&lt;li&gt;HAVE_FUTURE_DATA (数字值为 3)：在当前位置已获取到后续播放媒体数据，可以进行播放。&lt;/li&gt;\n&lt;li&gt;HAVE_ENOUGH_DATA (数字值为 4)：媒体数据可以进行播放，且浏览器确认媒体数据正以某一种速率进行加载并有足够的后续数据以继续进行播放，而不会使浏览器的播放进度赶上加载数据的末端。&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ol start=\&#34;15\&#34;&gt;\n&lt;li&gt;seekable 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回一个 TimeRanges 对象，表明可以对当前媒体资源进行请求。&lt;/p&gt;\n&lt;ol start=\&#34;16\&#34;&gt;\n&lt;li&gt;seeking 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;只读属性，用于返回一个默认值，表示浏览器是否正在请求某一播放位置的媒体数据，true 表示浏览器正在请求数据，而 false 表示浏览器已经停止请求数据。&lt;/p&gt;\n&lt;ol start=\&#34;17\&#34;&gt;\n&lt;li&gt;volume 属性&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;可读写属性，用于获取或设置媒体资源的播放音量。范围为 &lt;code&gt;0.0 ~ 1.0&lt;/code&gt;。&lt;/p&gt;\n&lt;h2&gt;设置方法&lt;/h2&gt;\n&lt;p&gt;audio 和 video 元素拥有相同的脚本方法：&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;canPlayType()&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;用户返回一个字符串以表明客户端是否能够播放指定的媒体类型&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var canPlay = media.canPlayType(type);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;type 为客户端浏览器能够播放的媒体类型。&lt;/p&gt;\n&lt;p&gt;可能得返回值有：&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;probably: 表示浏览器确定支持此媒体类型&lt;/li&gt;\n&lt;li&gt;maybe: 表示浏览器可能支持此媒体类型&lt;/li&gt;\n&lt;li&gt;空字符串: 表示浏览器不支持此媒体类型&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ol start=\&#34;2\&#34;&gt;\n&lt;li&gt;load()&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;用于重置媒体元素并重新载入媒体，不返回任何值。&lt;/p&gt;\n&lt;p&gt;该方法可中止任何正在进行的任务或事件。&lt;/p&gt;\n&lt;p&gt;元素的 playbackRate 属性值会被强行设置为 defaultPlaybackRate 属性的值，而且元素的 error 值会被强行设置为 null。&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;input type=&amp;quot;button&amp;quot; value=&amp;quot;载入新的视频&amp;quot; onclick=&amp;quot;loadNewVideo()&amp;quot; /&amp;gt;\n\n&amp;lt;script&amp;gt;\n  function loadNewVideo() {\n    var video = document.getElementsByTagName(&amp;quot;video&amp;quot;)[0];\n    var sources = video.getElementsByTagName(&amp;quot;source&amp;quot;);\n    sources[0].src = &amp;quot;medias/video2.ogv&amp;quot;;\n    sources[1].src = &amp;quot;medias/video2.mp4&amp;quot;;\n    video.load(); // 用 load 方法载入新的视频\n  }\n&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;设置事件&lt;/h3&gt;\n&lt;p&gt;一种是使用 &lt;code&gt;addEventListener()&lt;/code&gt; 监听&lt;/p&gt;\n&lt;p&gt;另一种是使用 &lt;code&gt;video.onplay = function() {}&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;音频和视频相关事件&lt;/strong&gt;&lt;/p&gt;\n&lt;table&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;事件&lt;/th&gt;\n&lt;th&gt;描述&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;&lt;tr&gt;\n&lt;td&gt;abort&lt;/td&gt;\n&lt;td&gt;浏览器在完全加载媒体数据之前中止获取媒体数据&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;canplay&lt;/td&gt;\n&lt;td&gt;浏览器能够开始播放媒体数据，但估计以当前速率播放不能直接将媒体播放完，即可能因播放期间需要缓冲而停止&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;canplaythrough&lt;/td&gt;\n&lt;td&gt;浏览器以当前速率可以直接播放完整个媒体资源，在此期间不需要缓冲&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;durationchange&lt;/td&gt;\n&lt;td&gt;媒体长度（duration 属性）改变&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;emptied&lt;/td&gt;\n&lt;td&gt;媒体资源元素突然为空时，可能是网络错误或加载错误等&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;ended&lt;/td&gt;\n&lt;td&gt;媒体播放已抵达结尾&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;error&lt;/td&gt;\n&lt;td&gt;在元素加载期间出现错误&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;loadeddata&lt;/td&gt;\n&lt;td&gt;已经加载当前播放位置的媒体数据&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;loadedmetadata&lt;/td&gt;\n&lt;td&gt;浏览器已经获取媒体元素的持续时间和尺寸&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;loadstart&lt;/td&gt;\n&lt;td&gt;浏览器开始加载媒体数据&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;pause&lt;/td&gt;\n&lt;td&gt;媒体数据暂停播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;play&lt;/td&gt;\n&lt;td&gt;媒体数据将要开始播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;playing&lt;/td&gt;\n&lt;td&gt;媒体数据已经开始播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;progress&lt;/td&gt;\n&lt;td&gt;浏览器正在获取媒体数据&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;ratechange&lt;/td&gt;\n&lt;td&gt;媒体数据的默认播放速率（defaultPlaybackRate 属性）改变或播放速率（playbackRate 属性）改变&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;readystatechange&lt;/td&gt;\n&lt;td&gt;就绪状态（ready-state）改变&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;seeked&lt;/td&gt;\n&lt;td&gt;浏览器停止请求数据，媒体元素的定位属性不再为真（seeking 属性值为 false）且定位已结束&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;seeking&lt;/td&gt;\n&lt;td&gt;浏览器正在请求数据，媒体元素的定位属性为真（seeking 属性值为 true）且定位已开始&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;stalled&lt;/td&gt;\n&lt;td&gt;浏览器获取媒体数据过程中出现异常&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;suspend&lt;/td&gt;\n&lt;td&gt;浏览器非主动获取媒体数据，但在取回整个媒体文件之前中止&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;timeupdate&lt;/td&gt;\n&lt;td&gt;媒体当前播放位置（currentTime 属性）发生改变&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;volumechange&lt;/td&gt;\n&lt;td&gt;媒体音量（volume 属性）改变或静音（muted 属性）&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;waiting&lt;/td&gt;\n&lt;td&gt;媒体已停止播放但打算继续播放&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n&lt;p&gt;&lt;strong&gt;示例&lt;/strong&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;body onload=&amp;quot;init()&amp;quot;&amp;gt;\n  &amp;lt;video\n    id=&amp;quot;video1&amp;quot;\n    autoplay\n    oncanplay=&amp;quot;startVideo()&amp;quot;\n    onended=&amp;quot;stopTimeline()&amp;quot;\n    autobuffer=&amp;quot;true&amp;quot;\n    width=&amp;quot;400&amp;quot;\n    height=&amp;quot;300&amp;quot;\n  &amp;gt;\n    &amp;lt;source src=&amp;quot;medias/volcano.ogv&amp;quot; type=&amp;quot;video/ogg&amp;quot; /&amp;gt;\n    &amp;lt;source src=&amp;quot;medias/volcano.mp4&amp;quot; type=&amp;quot;video/mp4&amp;quot; /&amp;gt;\n  &amp;lt;/video&amp;gt;\n  &amp;lt;button onclick=&amp;quot;play()&amp;quot;&amp;gt;播放&amp;lt;/button&amp;gt;\n  &amp;lt;button onclick=&amp;quot;pause()&amp;quot;&amp;gt;暂停&amp;lt;/button&amp;gt;\n&amp;lt;/body&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;var video;\nfunction init() {\n  video = document.getElementById(&amp;quot;video1&amp;quot;);\n  video.addEventListener(\n    &amp;quot;ended&amp;quot;,\n    function () {\n      alert(&amp;quot;播放结束&amp;quot;);\n    },\n    true\n  );\n  video.addEventListener(\n    &amp;quot;error&amp;quot;,\n    function () {\n      switch (video.error.code) {\n        case MediaError.MEDIA_ERROR_ABORTED:\n          alert(&amp;quot;视频的下载过程被中止&amp;quot;);\n          break;\n        case MediaError.MEDIA_ERROR_NETWORK:\n          alert(&amp;quot;网络发生故障，视频的下载过程被中止&amp;quot;);\n          break;\n        case MediaError.MEDIA_ERROR_DECODE:\n          alert(&amp;quot;解码失败&amp;quot;);\n          break;\n        case MediaError.MEDIA_ERROR_SRC_NOT_SUPPORTED:\n          alert(&amp;quot;媒体资源不可用或媒体格式不被支持&amp;quot;);\n          break;\n        default:\n          alert(&amp;quot;发生未知错误&amp;quot;);\n      }\n    },\n    false\n  );\n}\n\nfunction play() {\n  video.play();\n}\n\nfunction pause() {\n  video.pause();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&#34;,
  &#34;03 根据已有视频生成指定样式视频.md&#34;: &#34;&lt;h2&gt;根据已有视频生成指定样式视频&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;根据已有视频生成指定样式视频，如对视频进行翻转、圆角等。&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-html\&#34;&gt;&amp;lt;button type=&amp;quot;button&amp;quot; id=&amp;quot;playVideo&amp;quot;&amp;gt;播放&amp;lt;/button&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre&gt;&lt;code class=\&#34;language-js\&#34;&gt;const playVideo = document.getElementById(&amp;quot;playVideo&amp;quot;);\nconst video = document.createElement(&amp;quot;video&amp;quot;);\nvideo.src = &amp;quot;./mov_bbb.mp4&amp;quot;;\n// video.crossOrigin = &amp;quot;anonymous&amp;quot;; // 解决跨域问题\n\nplayVideo.onclick = () =&amp;gt; {\n  video.onloadedmetadata = async function () {\n    const canvas = document.createElement(&amp;quot;canvas&amp;quot;);\n    const ctx = canvas.getContext(&amp;quot;2d&amp;quot;);\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const cornerRadius = 30;\n    // 应用水平翻转\n    ctx.scale(-1, 1);\n    ctx.translate(-canvas.width, 0); // 翻转后调整绘制位置\n    ctx.beginPath();\n    ctx.moveTo(cornerRadius, 0);\n    ctx.arcTo(canvas.width, 0, canvas.width, canvas.height, cornerRadius);\n    ctx.arcTo(canvas.width, canvas.height, 0, canvas.height, cornerRadius);\n    ctx.arcTo(0, canvas.height, 0, 0, cornerRadius);\n    ctx.arcTo(0, 0, canvas.width, 0, cornerRadius);\n    ctx.closePath();\n    ctx.clip();\n    const stream = canvas.captureStream();\n    const mediaRecorder = new MediaRecorder(stream);\n    const frames = [];\n    mediaRecorder.ondataavailable = async function (e) {\n      frames.push(e.data);\n      console.log(&amp;quot;frames&amp;quot;, frames);\n    };\n    mediaRecorder.onstop = async function () {\n      const blob = new Blob(frames, { type: &amp;quot;video/mp4&amp;quot; });\n      const url = URL.createObjectURL(blob);\n      console.log(&amp;quot;url&amp;quot;, url);\n    };\n    mediaRecorder.start();\n    video.play();\n    while (video.currentTime &amp;lt; video.duration) {\n      await new Promise((resolve) =&amp;gt;\n        setTimeout(resolve, 16 / video.playbackRate)\n      );\n      ctx.drawImage(video, 0, 0);\n      mediaRecorder.requestData();\n    }\n    mediaRecorder.stop();\n  };\n  video.load();\n};\n&lt;/code&gt;&lt;/pre&gt;\n&#34;
}</pre
    >
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.js"></script>
    <script defer src="./assets/js/prism.min.js"></script>
    <script defer src="./assets/js/detail.js"></script>
  </body>
</html>
